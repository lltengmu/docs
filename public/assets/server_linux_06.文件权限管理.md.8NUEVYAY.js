import{_ as i,c as t,a0 as a,o as e}from"./chunks/framework.CoVXEd1Z.js";const o=JSON.parse('{"title":"文件权限管理","description":"","frontmatter":{},"headers":[],"relativePath":"server/linux/06.文件权限管理.md","filePath":"server/linux/06.文件权限管理.md","lastUpdated":1734757381000}'),p={name:"server/linux/06.文件权限管理.md"};function h(l,s,n,d,k,r){return e(),t("div",null,s[0]||(s[0]=[a(`<h1 id="文件权限管理" tabindex="-1">文件权限管理 <a class="header-anchor" href="#文件权限管理" aria-label="Permalink to &quot;文件权限管理&quot;">​</a></h1><h2 id="权限介绍和示例" tabindex="-1">权限介绍和示例 <a class="header-anchor" href="#权限介绍和示例" aria-label="Permalink to &quot;权限介绍和示例&quot;">​</a></h2><p>root 用户权限最高。所以一般不做权限设置，其他用户就要设定权限并且遵守权限。</p><h4 id="查看文件权限" tabindex="-1">查看文件权限 <a class="header-anchor" href="#查看文件权限" aria-label="Permalink to &quot;查看文件权限&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l _absolute_path</span></span></code></pre></div><p>文件权限示例：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Eddie  Eddie      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">83</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dec </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">55</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.txt</span></span></code></pre></div><p><strong>权限部分讲解</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span></code></pre></div><ol><li><p>第一个字符<code>-</code>表示文件类型：<code>-</code>表示文件，<code>d</code>表示目录，<code>l</code>表示软连接</p></li><li><p>第2-4个字符：表示该文件/目录 所属用户的权限</p></li><li><p>第5-7个字符：表示与该文件创建者属于在一组的用户的权限</p></li><li><p>第8-10个字符：表示其他用户对该文件的权限</p></li><li><p>第11个字符：表示该文件是在开启selinux状态下创建的</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sestatus 查看是否开启selinux状态</span></span></code></pre></div></li><li><p>数字 1：表示文件的硬连接数量</p></li><li><p>第三段字符串<code>Eddie</code>：表示文件所属用户</p></li><li><p>第四段字符串<code>Eddie</code>：表示文件所属用户组</p></li><li><p>第五段数组<code>83</code>：表示文件大小，默认单位是<code>byte</code>，可以使用 <code>ls -lh</code>将单位转化成人类可读的单位。</p></li><li><p>第六段<code>Dec 17 20:55</code>：表示文件修改时间。</p><p>linux会记录三个时间：</p><ul><li>访问时间（access time）:文件被打开时自动变化这个时间</li><li>修改时间（modify time）：文件内容发生变化时自动改变这个时间</li><li>改变时间（change time）：文件属性发生变化时自动改变这个时间</li></ul><p>使用<code>stat _filename</code>指令查看这三个时间。</p></li></ol><p><strong>权限表示表</strong>：</p><table tabindex="0"><thead><tr><th style="text-align:center;"></th><th style="text-align:center;"></th><th></th><th></th></tr></thead><tbody><tr><td style="text-align:center;">r</td><td style="text-align:center;">4</td><td>代表读权限</td><td>Read</td></tr><tr><td style="text-align:center;">w</td><td style="text-align:center;">2</td><td>代表写权限</td><td>Write</td></tr><tr><td style="text-align:center;">x</td><td style="text-align:center;">1</td><td>代表可执行权限</td><td>Executable(exe)</td></tr><tr><td style="text-align:center;">-</td><td style="text-align:center;">0</td><td>空位权限，表示没有这个权限</td><td></td></tr></tbody></table><p>权限值:</p><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>r</td><td>4</td></tr><tr><td>w</td><td>2</td></tr><tr><td>x</td><td>1</td></tr><tr><td>-</td><td>0</td></tr></tbody></table><p>权限值表：</p><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>0</td><td>---</td></tr><tr><td>1</td><td>--x</td></tr><tr><td>2</td><td>-w-</td></tr><tr><td>3</td><td>-wx</td></tr><tr><td>4</td><td>r--</td></tr><tr><td>5</td><td>r-x</td></tr><tr><td>6</td><td>rw-</td></tr><tr><td>7</td><td>rwx</td></tr></tbody></table><p><code>ugo</code>权限体系：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user  group  other</span></span></code></pre></div><h4 id="修改读权限" tabindex="-1">修改读权限 <a class="header-anchor" href="#修改读权限" aria-label="Permalink to &quot;修改读权限&quot;">​</a></h4><p>使用<code>chmod</code>指令修改权限，如</p><p><code>chmod -r _fileName</code>意思就是对该文件去掉访问权限（所有用户不能读取文件内容） ，</p><p><code>chmod +r _fileName</code>意思是对该文件添加读取权限。</p><p><code>chmod u+r _filename</code>意思是只有文件的创建用户才能读区文件（按照<code>ugo</code>文件权限）</p><h4 id="修改写权限" tabindex="-1">修改写权限 <a class="header-anchor" href="#修改写权限" aria-label="Permalink to &quot;修改写权限&quot;">​</a></h4><p>与修改读权限一样，只需将<code>r</code>改为<code>w</code>即可，如</p><p><code>chmod -w _fileName</code>意思就是对该文件去掉写入权限（所有用户不能写入文件内容） ，</p><p><code>chmod +w _fileName</code>意思是对该文件添加写权限。</p><p><code>chmod u+w _filename</code>意思是只有文件的创建用户才能x写入文件内容（按照<code>ugo</code>文件权限）</p><p>...</p><h2 id="可执行文件特殊目录介绍" tabindex="-1">可执行文件特殊目录介绍 <a class="header-anchor" href="#可执行文件特殊目录介绍" aria-label="Permalink to &quot;可执行文件特殊目录介绍&quot;">​</a></h2><p>通过echo $PATH 可以看到，类似windows中的环境变量PATH。放到这个目录中的命令程序，我们可以在任意目录下通过这个命令的名称来执行这个程序。</p><p>例如：</p><ol><li><p>在当前用户目录下新增一个<code>bin</code> 文件夹:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mkdir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin</span></span></code></pre></div></li><li><p>复制一个可执行程序到当前用户目录下(复制的目的是直接拿一个可执行程序来演示效果)，并重命名为<code>zzz</code>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//将ls 命令复制到 /home/Kevin/bin/ 并重命名为zzz</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cp cp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Kevin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zzz</span></span></code></pre></div></li><li><p>然后当前用户就可以直接使用命令<code>zzz</code></p></li></ol><h2 id="通过权限值修改文件权限" tabindex="-1">通过权限值修改文件权限 <a class="header-anchor" href="#通过权限值修改文件权限" aria-label="Permalink to &quot;通过权限值修改文件权限&quot;">​</a></h2><p>如果我们想将某个文件的：<code>rwxr-xr-x</code>权限改为<code>--x-w-r--</code>，如果按照前面的方式使用<code>chmod u+x _fileName</code>的方式来修改会比较麻烦。可以使用权限对应的数字来简化这一步骤。</p><p>例如：</p><p><code>rwxr-xr-x</code>对应的权限值为：755</p><p><code>--x-w-r--</code>对应的权限值为：124</p><p>执行指令:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//将文件的权限修改为755 ,也就是rwxr-xr-x</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chmod </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">755</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _fileName</span></span></code></pre></div><h2 id="修改文件的所属" tabindex="-1">修改文件的所属 <a class="header-anchor" href="#修改文件的所属" aria-label="Permalink to &quot;修改文件的所属&quot;">​</a></h2><p>使用<code>chown</code>指令修改文件持有者的属性，全称：<code>change owner</code>。</p><p>修改文件所属，普通用户是不能修改文件持有者的属性的，即使这个文件是用户本身创建的，只有root用户才能修改。</p><p><strong>修改文件所属用户和用户组:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//对于一个这样的文件权限信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">w</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Eddie  Eddie  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">83</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dec </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">55</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//执行指令将文件所属修改成Steven</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chown </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Steven</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:Steven a.txt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//再次查看文件权限</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">w</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Steven Steven </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">83</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dec </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">55</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.txt </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//修改成功</span></span></code></pre></div><h2 id="文件与目录权限的区别解释说明" tabindex="-1">文件与目录权限的区别解释说明 <a class="header-anchor" href="#文件与目录权限的区别解释说明" aria-label="Permalink to &quot;文件与目录权限的区别解释说明&quot;">​</a></h2><p>文件权限<code>rwx</code>：读、写、执行</p><p>目录权限<code>rwx</code>：<code>r</code>表示可以查看目录下有哪些文件，<code>x</code>表示可以切换（<code>cd</code>）进入到该目录，<code>w</code>表示可以在目录中创建、修改、删除文件等操作。</p>`,48)]))}const E=i(p,[["render",h]]);export{o as __pageData,E as default};
