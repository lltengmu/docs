import{_ as i,c as a,o as n,ae as h}from"./chunks/framework.Dh1jimFm.js";const k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAakAAAC5CAYAAACSjcB0AAABUGlDQ1BJQ0MgUHJvZmlsZQAAGJV1kb1LQlEYxn+W4AdFHzRFg4NDg0aYq4MpRBElmqBt16tpoHa4GuHeEkRTRX9CRH9AQ4NL1BRC0FJjQ1NDg4vG7b1aqUUHHp4fDw+H97wHbG1NqaIdKJWrRnxp0ZNKb3ocr9iZwCFC0ysqHIutSoVvHzzNR2yWP/itu6Knz5POZpjojf/koBG6+9sfOO5srqKLt0VeXRlVsHmEY3tVZbESnjJkKOF9i/NdPrM40+XLTmcjHhGuC4/rBS0r3BD2ZfryfB+Xirv61wzW9CO5cjIh7hTNkCbBGuv/dIKdToQdFDUMtslToIqHsCSKIjnhZcrozOETDjAvClq7/b2zXnbshRU3DB32stALnE/L82Z7mfceRp/guqY0Q/vZpK1pr2wtBLo8Jl/qSJnm+xG4bqH1ZpqtpGl+XMDwFdRdn6fWX7J4qreBAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAAGpoAMABAAAAAEAAAC5AAAAAGcw/HwAAAflSURBVHgB7dfBTWRBEAVBBq0Pyx3/TeK+awUgPMjLUw0Kzr9UTXSjFI/P758XPwQIECBA4KDA68EzORIBAgQIEPgRECkPgQABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQEClvgAABAgTOCojU2atxMAIECBAQKW+AAAECBM4KiNTZq3EwAgQIEBApb4AAAQIEzgqI1NmrcTACBAgQ+PPsBB9vf5/9V/hV53//9/9X/T7P/sv4+7h1g/4++n34T6qbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAREagRtDQECBAh0AZHqZiYIECBAYCQgUiNoawgQIECgC4hUNzNBgAABAiMBkRpBW0OAAAECXUCkupkJAgQIEBgJiNQI2hoCBAgQ6AIi1c1MECBAgMBIQKRG0NYQIECAQBcQqW5mggABAgRGAiI1graGAAECBLqASHUzEwQIECAwEhCpEbQ1BAgQINAFRKqbmSBAgACBkYBIjaCtIUCAAIEuIFLdzAQBAgQIjAQen98/o13WECBAgACBJOA/qcTlYwIECBBYCojUUtsuAgQIEEgCIpW4fEyAAAECSwGRWmrbRYAAAQJJQKQSl48JECBAYCkgUkttuwgQIEAgCYhU4vIxAQIECCwFRGqpbRcBAgQIJAGRSlw+JkCAAIGlgEgtte0iQIAAgSQgUonLxwQIECCwFBCppbZdBAgQIJAERCpx+ZgAAQIElgIitdS2iwABAgSSgEglLh8TIECAwFJApJbadhEgQIBAEhCpxOVjAgQIEFgKiNRS2y4CBAgQSAIilbh8TIAAAQJLAZFaattFgAABAklApBKXjwkQIEBgKSBSS227CBAgQCAJiFTi8jEBAgQILAVEaqltFwECBAgkAZFKXD4mQIAAgaWASC217SJAgACBJCBSicvHBAgQILAUEKmltl0ECBAgkAREKnH5mAABAgSWAiK11LaLAAECBJKASCUuHxMgQIDAUkCkltp2ESBAgEASEKnE5WMCBAgQWAqI1FLbLgIECBBIAl9MdQ9r6i49kQAAAABJRU5ErkJggg==",l="/assets/canvas-save-example-2.DPAUEyI7.png",p="/assets/canvas-restore-example-1.ayKOeJGf.png",t="data:image/png;base64,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",E="/assets/canvas-rotate-example-1.CdouVwEO.png",e="/assets/canvas-transform-example-1.D2KWJ95Y.png",g="/assets/canvas-transform-example-2.CSmpmc3f.png",o=JSON.parse('{"title":"变形操作","description":"","frontmatter":{},"headers":[],"relativePath":"front-end/canvas/05.变形操作.md","filePath":"front-end/canvas/05.变形操作.md","lastUpdated":1736413492000}'),A={name:"front-end/canvas/05.变形操作.md"};function r(d,s,y,C,B,c){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="变形操作" tabindex="-1">变形操作 <a class="header-anchor" href="#变形操作" aria-label="Permalink to &quot;变形操作&quot;">​</a></h1><h2 id="状态的恢复和保存" tabindex="-1">状态的恢复和保存 <a class="header-anchor" href="#状态的恢复和保存" aria-label="Permalink to &quot;状态的恢复和保存&quot;">​</a></h2><ol><li>状态的保存 ：<code>save()</code> ，保存<strong>画布</strong>的所有状态</li><li>状态的恢复：<code>restore()</code>，恢复画布状态</li></ol><p>画布中的状态在每次调用<code>sava()</code>方法之后，保存到状态栈中，每次<code>restore()</code>，状态栈中最后的状态会弹出，并恢复所有设置。</p><p>没有<code>save()</code> 时:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里设置一些初始样式 填充颜色为红色，并绘制一个矩形</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`red\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里使用闭合路径是更明确第一个矩形的绘制已结束</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里没有保存上一个矩形的状态，并再添加一个矩形</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//填充矩形之后会沿用上一个矩形的样式设置 canvas.fillStyle = \`red\`;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>效果图：</p><p><img src="`+k+`" alt="canvas-save-example-1"></p><p>调用<code>save()</code> 时：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> colors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#8e44ad&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#f1c40f&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //重新开始一个新的路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //设置不同样式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors[i];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //保存每次的状态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>效果图：</p><p><img src="`+l+`" alt="canvas-save-example-2"></p><p>恢复canvas状态<code>restore()</code>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //重新开始一个新的路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //设置不同样式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors[i];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //保存每次的状态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//再开启一个循环</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //恢复状态栈中的最顶部的状态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">restore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //重新开始一个新的路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //不设置样式，会使用上一个保存的样式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // canvas.fillStyle = colors[i];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>效果图：</p><p><img src="`+p+`" alt="canvas-restore-example-1"></p><h2 id="移动" tabindex="-1">移动 <a class="header-anchor" href="#移动" aria-label="Permalink to &quot;移动&quot;">​</a></h2><p>如果不使用 <code>translate</code> 方法，那么所有矩形都将被绘制在相同的位置（0,0）。<code>translate</code> 方法同时让我们可以任意放置这些图案，而不需要在 <code>fillRect()</code> 方法中手工调整坐标值，既好理解也方便使用。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//绘制九宫格</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; j</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //保存默认设置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvas.strokeStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#3498db&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //移动画布，设置每次绘制时的x,y轴上的偏移量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //绘制矩形，不需要设置矩形的x，y</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strokeRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //恢复默认设置,将原点重新移动到（0，0）,将画布的移动设置为默认值，不然当循环足够多时，会有些图形超出画布范围</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">restore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>效果图：</p><p><img src="`+t+`" alt="canvas-translate-example-1"></p><h2 id="旋转" tabindex="-1">旋转 <a class="header-anchor" href="#旋转" aria-label="Permalink to &quot;旋转&quot;">​</a></h2><p>改变变形原点，旋转的中心点始终是 canvas 的原点<code>（0，0）</code>，如果要改变它，我们需要用到 <code>translate</code>方法。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//绘制画布的线框</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.strokeStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rgba(0,0,0,0.4)&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strokeRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> colors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#1abc9c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#9b59b6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#34495e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#f39c12&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#c0392b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#2980b9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//改变变形原点,这里的画布大小是1000，800</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//循环数组</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> colors[i];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fillRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //一个循环6次，每次60度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rotate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // canvas.restore()//这里不调用restore,不然画布的角度会被重制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>效果图：</p><p><img src="`+E+`" alt="canvas-rotate-example-1"></p><h2 id="变形" tabindex="-1">变形 <a class="header-anchor" href="#变形" aria-label="Permalink to &quot;变形&quot;">​</a></h2><p>可以通过<code>transform(a,b,c,d,e,f)</code>方法设置对画布的倾斜、缩放、平移。</p><p>参数讲解：</p><ol><li><code>a</code>：这是变换矩阵的第一行第一列元素，表示 x 轴方向的缩放（scaling）。如果 <code>a</code> 是 1，表示不对 x 轴进行缩放；如果 <code>a</code> 大于 1，表示在 x 轴方向上进行放大；如果 <code>a</code> 小于 1，表示在 x 轴方向上进行缩小。</li><li><code>b</code>：这是变换矩阵的第二行第一列元素，表示 x 轴方向的倾斜（skewing）。它不会影响 x 轴的方向，但会在 x 轴方向上产生倾斜效果。</li><li><code>c</code>：这是变换矩阵的第一行第二列元素，表示 y 轴方向的倾斜（skewing）。它不会影响 y 轴的方向，但会在 y 轴方向上产生倾斜效果。</li><li><code>d</code>：这是变换矩阵的第二行第二列元素，表示 y 轴方向的缩放（scaling）。如果 <code>d</code> 是 1，表示不对 y 轴进行缩放；如果 <code>d</code> 大于 1，表示在 y 轴方向上进行放大；如果 <code>d</code> 小于 1，表示在 y 轴方向上进行缩小。</li><li><code>e</code>：这是变换矩阵的第一行第三列元素，表示 x 轴方向的平移（translation）。它将整个坐标系沿着 x 轴平移指定的距离。</li><li><code>f</code>：这是变换矩阵的第二行第三列元素，表示 y 轴方向的平移（translation）。它将整个坐标系沿着 y 轴平移指定的距离。</li></ol><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 开始绘制路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在 (50, 50) 处创建一个宽高为 100 的正方形</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置填充颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#e74c3c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 应用变换 移动画布到（50,50) 只移动，不缩放，不倾斜</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 倾斜45度 平移x=50，y=50，不缩放，y轴倾斜 45度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 重新绘制路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在 (0, 0) 处创建一个宽高为 100 的正方形</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置填充颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.fillStyle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#2ecc71&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>效果图：</p><p><img src="`+e+'" alt="canvas-transform-example-1"></p><p>调整代码，就实现旋转的效果：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>效果如下：</p><p><img src="'+g+'" alt="canvas-transform-example-2"></p>',37)]))}const Q=i(A,[["render",r]]);export{o as __pageData,Q as default};
